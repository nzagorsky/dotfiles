#!/usr/bin/env bash

# TODO identify desktop type

identify_os () {
    . /etc/os-release
    echo $NAME | tr '[:upper:]' '[:lower:]'
}

install_desktop_arch () {
    sudo pacman -S --needed --noconfirm docker
    sudo pacman -S --needed --noconfirm flatpak
    sudo pacman -S --needed --noconfirm openvpn
    sudo pacman -S --needed --noconfirm ttf-hack  # Terminal
    sudo pacman -S --needed --noconfirm ttf-liberation  # Mono fonts in browsers
    sudo pacman -S --needed --noconfirm xclip  # neovim shared copy/paste buffer
}

install_desktop_debian () {
    sudo apt-get update
    sudo apt-get install -y flatpak
    sudo apt-get install -y openvpn
    sudo apt-get install -y docker.io
    sudo apt-get install -y xclip
    sudo apt-get install -y xfce4-terminal
}

configure_gnome () {
    # sudo pacman -S --needed --noconfirm xfce4-terminal
    dconf load  / < optional/dconf.conf
    gsettings set org.gnome.shell.app-switcher current-workspace-only true
}

install_flatpak_apps () {
    # Flatpak packages
    flatpak remote-add --user --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
    flatpak install flathub --user -y \
        telegram \
        fondo \
        io.dbeaver.DBeaverCommunity
}

install_desktop_arch
